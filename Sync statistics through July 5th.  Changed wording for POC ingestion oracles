# HIP XX: Vacate Backlogged Crowdspot Submissions 
- Author(s): @tony12times 
- Start Date: 2023-06-21
- Category: Meta
- Original HIP PR: 721
- Tracking Issue:
- Voting Requirements: veIOT

## Summary
- Allow selected hotspots from the January 12, 2023 algorithmic detection, approximately 3700 of 19670, to return to POC activity
- Update the programming of the machine learning model (algorithm detection iteration)
- Re-sweep for gamers approximately 7 days later [^7] with a new algorithm 

## Motivation

It has been known for some time that a large number of hotspots were denied in error in January, 2023 [^1] and remain on the denylist for months without recourse. [^2]  Erroneously denied hotspots (false positives) can be seen as harmful to the network integrity, right alongside gaming hotspots.  This has bred an atmosphere of mistrust, conspiracy theories, and FUD within the community in regards to how the denylist and how Crowdspot are handled. [^8]  A lack of personel and resources for the review team has resulted in a backlog of over 4000 submissions, containing 4600 Hotspots, backlogged for 6 months. [^2] [^8]
> Denylist - state on: 2023-07-05T13:30:01.191Z
> Removal pending time [avg/max]= [131.5 days / 171.1 days]. There are 4048 pending removal submissions.

 **It's time to clear the log jam, reset the algorithm, and try again.**

## Stakeholders

- All hotspot owners will be positively affected by this proposal by returning legit hotspots back to POC activity on the network.
- Any community member that manually detects a spoofed hotspot or farm on the network has little to gain by reporting an addition request to Crowdspot if the request isn't reviewed for 171 days. [^2]
- Any hotspot owners that were inaccurately put on the denylist in January 2023 are negatively affected by the current state of Crowdspot. 

## Detailed Explanation

### Four steps

1. Identify & remove stale requests on Crowdspot 
2. New sweep on new POC data with new detection model
3. Review Team clears out Crowdspot in a resonable time
4. Repeat as needed

### 1. Identify the selection to be removed from stale submissions on Crowdspot and the denylist 

I am currently waiting on this select hotspot list to be generated and will publish the exact list alongside this PR.  
This list will be less than 3664 hotspots. [^2] [^9]
> Denylist - state on: 2023-07-05T13:30:01.191Z
> Hotspots*:    | accepted 1550 | declined 1075 | pending 3664

Start with the 4100 pending submissions, containing 4600 hotspots, then keep only the hotspots that were placed on the denylist on *2023011001 PR #8297*
https://github.com/helium/denylist/pull/8297/files/d3a3dfe659f620859ae97ff574a45b7313836816

From those, keep only submissions that have not previously been seen and reviewed by the review team. (Not appeals, not second looks, not additions) This will have to be sourced from crowdspot.io looking for removal submissions "declined".

These identified hotspots will be removed from the denylist without a review.  Place these identified submissions and hotspots on a pull request for removal.  Successful signature and merger of this PR will close them in Crowdspot and remove them from the denylist.  

### 2. Start a new sweep cycle based on new POC data

Wait 7 days [^7] or whatever time is needed by the denylist authors to update the learning model and develop a more accurate gaming detection algorithm, then run the algorithmic detection again.

### 3. The review team clears out Crowdspot submissions in a reasonable time frame 

Decide what a reasonable time is? 30 days would be a good place to start.  180 days is not acceptable.  Maybe 90 days is on the high end of too long.  
On subsequent algorithmic detection sweeps, only add a specific number (defined in calculation below) of hotspots to the denylist per algorithm sweep if Nova can provide the manpower or a volunteer review team is in place to process the Crowdspot submissions.  
Step up the review team?  Add more members.  Is there any ideas on how we can make them a paid job?  I actually have heard we could use Fiver or Slack paid services.  is that serious?  I don't know, honestly.  

### 4. Repeat the Sweep and clear Crowdspot again

Once Crowdspot returns to a manageable level of submissions, perhaps 1-3 days left of reviews for the review team, repeat at step 2.

It maybe necessary at times to repeat this process from step 1 instead of step 2 if the submissions to Crowdspot become stalled again. The regular flow and cycle schedule should be left up to the denylist authors and Nova Lab's discretion. However, a hard time out of 90 days should exist for any Crowdspot removal submissions that grow stale. 

#### Calculation & Formula

The maximum number denied per sweep will be determined by: 
- The historical Crowdspot submission reporting average =29.1% [^2]
> Right now there are 5734 hotspots from 20k batch on removal submissions (29.1% of the 19670).

- The historical average reviews worked per day = 6.48  [^4]

The formula is 
[Average reviews per day]  *  [number of days to clear out the reviews]  รท [percentage of denied hotspots that open a Crowdspot submission] 

Using the current averages, the calculation for 30 days would be:
30 x 6.48 รท 29.1% = 668 hotspots

This number will remain dynamic as manpower fluctuates, the algorithm becomes more accurate and fewer hotspots are incorrectly denied.

## Drawbacks

Yes, we would be returning some potential gaming hotspots back to the POC pool.  We would also be returning some number of innocent hotspots back to the pool.  This number is less than 3664 total, gaming and innocent hotspots.  An estimated ratio of innocent to guilty can be inferred from data available below. [^2]   60% innocent vs 40% gamers in the sample of 2549 reviews conducted. 
> Denylist - state on: 2023-06-22T13:30:01.128Z
> Applications: | accepted 1489| declined 1060 | pending 3579
> Hotspots*:    | accepted 1480 | declined 1048 | pending 3725

## Rationale and Alternatives

The rational is simple, there are potentially a thousand false positive hotspots on the denylist, and within the 4100 pending submissions on crowdspot. There is no method in place or manpower available to review them in any timely fashion.  Many have been waiting for a review for 5 months and would have to wait many more months for a review or for model coverage to change the methodology of the denylist.  Those falsely accused have no recourse within the current framework of the denylist and Crowdspot management.  It's just time to reset and try again.

Alternatives:
- HIP 40 : was written for validators, pre Solana.   It would have decentralized the denylist and its management.  It never went to vote.
- HIP 66: established trust score for denylist detection and determination. This was also written pre-Solana and never went to a vote.   
- PR 551:  hold rewards for false positive hotspots, was written pre Solana
- PR 662: changed Crowdspot process, established staked bond.  Very bulky and needs resource commitment to code it.  

## Unresolved Questions

Nova was granted the ability to temporarily, yet unilaterally manage the denylist in a vote in 2022.  The intention at that time was that HIP 40 would soon go to a vote and the implementation of decentralized denylists was at hand.  Because this has not been corrected in the past 18 months, a vacancy of resources needed to manage the Crowdspot submissions has collapsed the process. [^4] Very few hotspots get removed or added to the denylist by hand, the algorithmic detection hasn't been ran in 5 months [^3], and FUD of the denylist and gamers has taken over in Discord channels.  

The unresolved questions are not really for this HIP, but rather for the community:
- What is the solution for the denylist?
- Will there be a HIP for modeled coverage that will eliminate the denylist?  
- Will it always remain as part of a multi pronged approach to network security? If so, then who should manage it?

##Deployment Impact
Who will have to do what work? 
The expectation is that a memeber of the review team will open a PR and add the selected hotspots to the PR.  Two other memebers will have to add signatures to the PR, then the PR can be merged into the denylist. 

What docs.helium.com will need updating?  I have reviewed the relevant Helium Docs [^6] and do not find any materials here that would need to be updated as a result of enacting this HIP.  Please let me know of you find any.  @tony12times commits to work on these relevant Docs if needed or identified.  

Can this HIP be undone?
Yes, because the denylist is a dynamic document, it can be done, redone, and undone again.

##Success Metrics

The success metric will be the wait time for conducting a human review after placing a submission. A second success metric will be seeing the algorithmic detection model grow more accurate and the time between sweep cycles (iterations) drop to a very rapid pace.  

Like pointed out in the Motivation, the threshold for review should be less than 5 months, maybe even 30 days. The expected "customer service experience" should dictate that 5 months or 24 months wait is simply unreasonable.  Any wait this long sows mistrust, conspiracy theories, and FUD. 

## Footnotes

[^1] Helium Official Discord Announcements. https://discord.com/channels/404106811252408320/730418759298318346/1083849753730744330
[^2] Sourced from the data scraped at the croudspot.io website and published daily by @crey on Discord https://discord.com/channels/404106811252408320/984427647977283674/1126149181514457188
[^3] Helium Official Discord Announcements https://discord.com/channels/404106811252408320/730418759298318346/1067230386075226233
[^4] Sourced from the data scraped at the croudspot.io website and published daily by @crey on Discord.  The 35 day average of submissions reviewed by the team from June 1, 2023 to July 5, 2023 is 
227 รท 35 = 6.48 per day.
https://docs.google.com/spreadsheets/d/1ZXaNDTNyDWNF0st5QUtiaLZSgpvqzPz7hRb_TL6fpOg/edit?usp=drivesdk
[^5] HeliumVote Jan 13, 2021 https://heliumvote.com/14iwaexUYUe5taFgb5hx2BZw74z3TSyonRLYyZU1RbddV4bJest
[^6] 
Docs Crowdspot https://docs.helium.com/iot/crowdspot#how-to-submit-to-the-denylist
Docs Denylist https://docs.helium.com/iot/denylist
Docs Denylist Removal
https://docs.helium.com/iot/denylist-removals
[^7] Time frame was originally 30 days, then 14 day, but it has been suggested 7 days.  The understanding is that no new POC data needs to be generated if a denylist hotspot's data is available from the POC ingestion oracle.  
[^8] Discord Crowdspot Channel https://discord.com/channels/404106811252408320/984427647977283674
[^9] Remember none of these hotspots have been rewarded since January.  Many are probably powered off.  Many will probably never go live on Helium Network again anyway.  The list of live hotspots that are removed from the denylist will likely be less than 3600 of the 157,000 hotspots on the denylist.  
